<div class="">
    <div class="content-area">
        <% if (articles && articles.length > 0) { %>
            <% articles.forEach(function(article) { %>
                <!-- Article container - każdy artykuł jak w index.ejs -->
                <article class="article-container" style="margin-bottom: 5px;">
                    <!-- Article header -->
                    <div class="" style="padding: 5px 20px; margin-bottom: 10px;">
                        <p style="margin-bottom: 0px; font-weight: 700;"><a href="<%= menuItems.generateArticleUrl(article, menuItem, parentMenuItem) %>" style="color: #2b7cb3;"><%= article.title %></a></p>
                    </div>
                    
                    <!-- Article content -->
                    <div class="article-content">
                        <% if (article.excerpt) { %>
                            <p style="margin-bottom: 0px;"><%= article.excerpt %></p>
                        <% } %>
                        <div class="article-meta" style="font-size: 10px; color: lightgrey; padding: 10px 0px; display: flex; justify-content: space-between; align-items: flex-start;">
                            <div class="article-meta-info">
                                <% if (article.publishedAt) { %>
                                    <p style="margin-bottom: 2px; font-size: 10px; color: lightgrey;"><strong>Opublikowano:</strong> <%= new Date(article.publishedAt).toLocaleDateString('pl-PL') %></p>
                                <% } %>
                                <% if (article.responsiblePerson) { %>
                                    <p style="margin-bottom: 2px; font-size: 10px; color: lightgrey;"><strong>Autor:</strong> <%= article.responsiblePerson %></p>
                                <% } %>
                                <% if (article.viewCount > 0) { %>
                                    <p style="margin-bottom: 2px; font-size: 10px; color: lightgrey;"><strong>Odsłony:</strong> <%= article.viewCount %></p>
                                <% } %>
                            </div>
                            <a href="<%= menuItems.generateArticleUrl(article, menuItem, parentMenuItem) %>" class="article-more-btn action-btn" aria-label="Zobacz więcej o artykule: <%= article.title %>">
                                <span>Zobacz więcej</span>
                                <span class="action-icon">→</span>
                            </a>
                        </div>
                    </div>
                                     
                </article>
            <% }); %>

            <!-- Pagination -->
            <% if (totalPages > 1) { %>
                <nav class="pagination" aria-label="Nawigacja stron">
                    <% if (currentPage > 1) { %>
                        <a href="?page=<%= currentPage - 1 %>" class="pagination-btn">« Poprzednia</a>
                    <% } %>
                    
                    <% for (let i = Math.max(1, currentPage - 2); i <= Math.min(totalPages, currentPage + 2); i++) { %>
                        <% if (i === currentPage) { %>
                            <span class="pagination-current"><%= i %></span>
                        <% } else { %>
                            <a href="?page=<%= i %>" class="pagination-btn"><%= i %></a>
                        <% } %>
                    <% } %>
                    
                    <% if (currentPage < totalPages) { %>
                        <a href="?page=<%= currentPage + 1 %>" class="pagination-btn">Następna »</a>
                    <% } %>
                </nav>
            <% } %>
        <% } else { %>
            <div class="no-articles">
                <p>Brak artykułów w tej kategorii.</p>
            </div>
        <% } %>
    </div>
</div>
